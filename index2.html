<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>随手拍</title>
	<link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css"></link>
	<link rel="stylesheet" href="index.css"></link>
</head>
<body>
<header class="bar bar-nav">
	<h1 class='title'>随手拍</h1>
</header>
<div class="content">
	<div class="list-block">
		<ul>
			<!-- Text inputs -->
			<li>
				<div class="item-content">
					<div class="item-media"><i class="icon icon-form-name"></i></div>
					<div class="item-inner">
						<div class="item-title label">昵称</div>
						<div class="item-input">
							<input type="text" placeholder="Your name">
						</div>
					</div>
				</div>
			</li>
			<li>
				<div class="item-content">
					<div class="item-media"><i class="icon icon-form-email"></i></div>
					<div class="item-inner">
						<div class="item-title label">身份证号</div>
						<div class="item-input">
							<input type="text" placeholder="cardID">
						</div>
					</div>
				</div>
			</li>
			<li>
				<div class="item-content">
					<div class="item-media"><i class="icon icon-form-password"></i></div>
					<div class="item-inner">
						<div class="item-title label">电话</div>
						<div class="item-input">
							<input type="text" placeholder="number" class="">
						</div>
					</div>
				</div>
			</li>
		</ul>
	</div>
	<div class="list-block">
		<ul>
			<li class="align-top">
				<div class="item-content">
					<div class="item-inner">
						<textarea placeholder="说点什么吧..."></textarea>
					</div>
				</div>
			</li>
		</ul>
	</div>
	<div class="list-block">
		<ul>

				<!--    照片添加    -->
				<div class="z_photo">
					<div class="z_file">
						<input type="file" name="file" id="file" value="" accept="image/*" multiple onchange="imgChange('z_photo','z_file');" />
					</div>
				</div>

				<!--遮罩层-->
				<div class="z_mask">
					<!--弹出框-->
					<div class="z_alert">
						<p>确定要删除这张图片吗？</p>
						<p>
							<span class="z_cancel">取消</span>
							<span class="z_sure">确定</span>
						</p>
					</div>
				</div>

		</ul>
	</div>

	<div class="content-block">
		 <a href="#" class="button" style="background-color: darkturquoise">提交</a>
	</div>
</div>



<script type="text/javascript">
	//px转换为rem
	(function(doc, win) {
		var docEl = doc.documentElement,
			resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
			recalc = function() {
				var clientWidth = docEl.clientWidth;
				if (!clientWidth) return;
				if (clientWidth >= 640) {
					docEl.style.fontSize = '100px';
				} else {
					docEl.style.fontSize = 100 * (clientWidth / 640) + 'px';
				}
			};

		if (!doc.addEventListener) return;
		win.addEventListener(resizeEvt, recalc, false);
		doc.addEventListener('DOMContentLoaded', recalc, false);
	})(document, window);

	function imgChange(obj1, obj2) {
		//获取点击的文本框
		var file = document.getElementById("file");
		//存放图片的父级元素
		var imgContainer = document.getElementsByClassName(obj1)[0];
		//获取的图片文件
		var fileList = file.files;
		//文本框的父级元素
		var input = document.getElementsByClassName(obj2)[0];
		var imgArr = [];
		//遍历获取到得图片文件
		for (var i = 0; i < fileList.length; i++) {
			var imgUrl = window.URL.createObjectURL(file.files[i]);
			imgArr.push(imgUrl);
			var img = document.createElement("img");
			img.setAttribute("src", imgArr[i]);
			var imgAdd = document.createElement("div");
			imgAdd.setAttribute("class", "z_addImg");
			imgAdd.appendChild(img);
			imgContainer.appendChild(imgAdd);
		};
		imgRemove();
	};

	function imgRemove() {
		var imgList = document.getElementsByClassName("z_addImg");
		var mask = document.getElementsByClassName("z_mask")[0];
		var cancel = document.getElementsByClassName("z_cancel")[0];
		var sure = document.getElementsByClassName("z_sure")[0];
		for (var j = 0; j < imgList.length; j++) {
			imgList[j].index = j;
			imgList[j].onclick = function() {
				var t = this;
				mask.style.display = "block";
				cancel.onclick = function() {
					mask.style.display = "none";
				};
				sure.onclick = function() {
					mask.style.display = "none";
					t.style.display = "none";
				};

			}
		};
	};

</script>
<script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script>
</body>
</html>
